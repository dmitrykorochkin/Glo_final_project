(()=>{"use strict";(()=>{const e=document.getElementById("callback"),t=document.querySelectorAll(".fancyboxModal"),n=document.querySelector(".modal-overlay"),o=t=>{const o=t.target;(o.matches(".modal-overlay")||o.closest(".modal-close"))&&(n.style.display="none",e.style.display="none"),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(n.style.display="none",e.style.display="none")}))},l=t=>{t.preventDefault(),(({timing:e,draw:t,duration:n})=>{let o=performance.now();requestAnimationFrame((function l(s){let c=(s-o)/n;c>1&&(c=1);let a=e(c);t(a),c<1&&requestAnimationFrame(l)}))})({duration:700,timing:e=>e,draw(t){e.style.opacity=t,n.style.display="block",e.style.display="block"}}),n.style.display="block",e.style.display="block",document.body.addEventListener("click",o)};t.forEach((e=>{e.addEventListener("click",l)}))})(),(()=>{const e=document.querySelectorAll('a[href^="#"]'),t=document.querySelector(".up"),n=document.querySelector(".logo");for(const t of e)t.addEventListener("click",(e=>{e.preventDefault();const n=t.hasAttribute("href")?t.getAttribute("href"):"body";document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}));t.addEventListener("click",(()=>window.scroll(0,0))),window.addEventListener("scroll",(function(){const e=document.getElementById("services"),n=document.documentElement.scrollTop,o=e.getBoundingClientRect().top;Math.abs(o)<=n?t.style.display="block":t.style.display="none"})),n.addEventListener("click",(e=>{e.preventDefault(),window.scroll(0,0)}))})(),(()=>{const e=document.querySelectorAll(".accordeon .element"),t=document.querySelectorAll(".accordeon .element-content");e.forEach(((n,o)=>{n.querySelector(".title").addEventListener("click",(()=>{t[o].classList.contains("open")?t[o].style.display="none":t[o].style.display="block",t[o].classList.toggle("open"),n.classList.toggle("active"),e.forEach(((e,n)=>{o!=n&&(e.classList.remove("active"),t[n].style.display="none",t[n].classList.remove("open"))}))}))}))})(),(()=>{const e=document.querySelector(".top-slider"),t=document.querySelectorAll(".item"),n=document.querySelectorAll(".table");e.insertAdjacentHTML("beforeEnd","\n   <style>\n       .top-slider .item.relative.active {\n           opacity: 1;\n           z-index: 3;\n       }\n       \n       .top-slider .item.relative {\n           opacity: 0;\n           transition: all 300ms ease-out;\n           position: absolute;\n           z-index: 1;\n           top: 0;\n           left: 0;\n           width: 100%;\n       }\n   "),n[0].classList.add("active"),t[0].classList.add("active");let o=0;const l=(e,t,n)=>{e[t].classList.remove(n)},s=(e,t,n)=>{e[t].classList.add(n)};setInterval((()=>{l(n,o,"active"),l(t,o,"active"),o++,o>=n.length&&(o=0),s(n,o,"active"),s(t,o,"active")}),3e3)})(),(()=>{const e=document.querySelector("form"),t=e.querySelectorAll("input[type='text']"),n=e.querySelector("input[name='fio']"),o=e.querySelector("input[name='tel']"),l=/[^а-яА-я- ]/,s=/[^\d+]/,c="Что-то пошло не так...";let a,r;n.addEventListener("input",(e=>{e.target.value=e.target.value.replace(l,""),n.classList.remove("error"),a=n.value})),o.addEventListener("input",(e=>{e.target.value=e.target.value.replace(s,""),o.classList.remove("error"),r=o.value}));try{e.addEventListener("submit",(l=>{l.preventDefault(),/^([А-Яа-я]{1}[А-Яа-я ]{1,})$/.test(String(a))||n.classList.add("error"),/^([\+]{0,1}[\d]{6,16})$/.test(String(r))||o.classList.add("error");const s=document.createElement("div");s.classList.add("status"),e.append(s);const i=new FormData(e),d={};i.forEach(((e,t)=>{d[t]=e})),n.classList.contains("error")||o.classList.contains("error")?(s.textContent=c,setTimeout((()=>{s.remove()}),1500)):(async(e,t)=>{document.querySelector(".status").textContent="Зарузка...";let n=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});return await n.json()})(0,d).then((e=>{s.textContent="Спасибо! С вами свяжутся!"})).catch((e=>{s.textContent=c})).finally((()=>{t.forEach((e=>{e.value=""})),setTimeout((()=>{s.remove()}),1500)}))}))}catch(e){console.log(e.message)}})()})();