(()=>{"use strict";(()=>{const e=document.getElementById("callback"),t=document.querySelectorAll(".fancyboxModal"),n=document.querySelector(".modal-overlay"),l=t=>{const l=t.target;(l.matches(".modal-overlay")||l.closest(".modal-close"))&&(n.style.display="none",e.style.display="none"),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(n.style.display="none",e.style.display="none")}))},o=t=>{t.preventDefault(),(({timing:e,draw:t,duration:n})=>{let l=performance.now();requestAnimationFrame((function o(s){let c=(s-l)/n;c>1&&(c=1);let i=e(c);t(i),c<1&&requestAnimationFrame(o)}))})({duration:700,timing:e=>e,draw(t){e.style.opacity=t,n.style.display="block",e.style.display="block"}}),n.style.display="block",e.style.display="block",document.body.addEventListener("click",l)};t.forEach((e=>{e.addEventListener("click",o)}))})(),(()=>{const e=document.querySelectorAll(".top-menu a"),t=document.querySelector(".up");t.style.display="none",e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const n=document.querySelector(e.getAttribute("href"));n&&n.scrollIntoView({behavior:"smooth",block:"start",inline:"center"})}))})),window.addEventListener("scroll",(()=>{let e=document.documentElement.clientHeight,n=window.pageYOffset;e>n?t.style.display="none":e<n&&(t.style.display="block")})),t.addEventListener("click",(()=>{document.querySelector("html").style.scrollBehavior="smooth",document.documentElement.scrollTop=0}))})(),(()=>{const e=document.querySelectorAll(".accordeon .element"),t=document.querySelectorAll(".accordeon .element-content");e.forEach(((n,l)=>{n.querySelector(".title").addEventListener("click",(()=>{t[l].classList.contains("open")?t[l].style.display="none":t[l].style.display="block",t[l].classList.toggle("open"),n.classList.toggle("active"),e.forEach(((e,n)=>{l!=n&&(e.classList.remove("active"),t[n].style.display="none",t[n].classList.remove("open"))}))}))}))})(),(()=>{const e=document.querySelector(".services-carousel"),t=document.querySelector(".services-elements"),n=e.querySelectorAll(".col-md-4"),l=document.querySelector(".services-arrow");let o,s,c=3,i=0;e.style.display="flex",e.style.position="relative",e.style.transition="all 0.3s ease 0s",e.style.left="0px",t.style.overflow="hidden",n.forEach((e=>{e.style.minWidth="33%",o=e.offsetWidth,document.documentElement.clientWidth<=992&&(e.style.minWidth="50%",o=e.offsetWidth,c=2),document.documentElement.clientWidth<=576&&(e.style.minWidth="100%",o=e.offsetWidth,c=1)})),window.addEventListener("resize",(()=>{n.forEach((e=>{e.style.minWidth="33%",o=e.offsetWidth,document.documentElement.clientWidth<=992&&(e.style.minWidth="50%",o=e.offsetWidth,c=2),document.documentElement.clientWidth<=576&&(e.style.minWidth="100%",o=e.offsetWidth,c=1)}))})),s=(n.length-c)*o,l.addEventListener("click",(t=>{t.target.matches(".arrow-left")?(i-=+o,i<0&&(i=s),e.style.left=-i+"px"):t.target.matches(".arrow-right")&&(i+=+o,i>s&&(i=0),e.style.left=-i+"px")}))})(),(()=>{const e=document.querySelector(".top-slider"),t=document.querySelectorAll(".item"),n=document.querySelectorAll(".table");e.insertAdjacentHTML("beforeEnd","\n   <style>\n       .top-slider .item.relative.active {\n           opacity: 1;\n           z-index: 3;\n       }\n       \n       .top-slider .item.relative {\n           opacity: 0;\n           transition: all 300ms ease-out;\n           position: absolute;\n           z-index: 1;\n           top: 0;\n           left: 0;\n           width: 100%;\n       }\n   "),n[0].classList.add("active"),t[0].classList.add("active");let l=0;const o=(e,t,n)=>{e[t].classList.remove(n)},s=(e,t,n)=>{e[t].classList.add(n)};setInterval((()=>{o(n,l,"active"),o(t,l,"active"),l++,l>=n.length&&(l=0),s(n,l,"active"),s(t,l,"active")}),3e3)})(),(()=>{const e=document.querySelector("form"),t=e.querySelectorAll("input[type='text']"),n=e.querySelector("input[name='fio']"),l=e.querySelector("input[name='tel']"),o=/[^а-яА-я- ]/,s=/[^\d+]/,c="Что-то пошло не так...";let i,r;n.addEventListener("input",(e=>{e.target.value=e.target.value.replace(o,""),n.classList.remove("error"),i=n.value})),l.addEventListener("input",(e=>{e.target.value=e.target.value.replace(s,""),l.classList.remove("error"),r=l.value}));try{e.addEventListener("submit",(o=>{o.preventDefault(),/^([А-Яа-я]{1}[А-Яа-я ]{1,})$/.test(String(i))||n.classList.add("error"),/^([\+]{0,1}[\d]{6,16})$/.test(String(r))||l.classList.add("error");const s=document.createElement("div");s.classList.add("status"),e.append(s);const a=new FormData(e),d={};a.forEach(((e,t)=>{d[t]=e})),n.classList.contains("error")||l.classList.contains("error")?(s.textContent=c,setTimeout((()=>{s.remove()}),1500)):(async(e,t)=>{document.querySelector(".status").textContent="Зарузка...";let n=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});return await n.json()})(0,d).then((e=>{s.textContent="Спасибо! С вами свяжутся!"})).catch((e=>{s.textContent=c})).finally((()=>{t.forEach((e=>{e.value=""})),setTimeout((()=>{s.remove()}),1500)}))}))}catch(e){console.log(e.message)}})()})();